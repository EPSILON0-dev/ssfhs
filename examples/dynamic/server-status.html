<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SSFHS â€” Server Status</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="card">
    <header>
      <div class="logo">SSFHS</div>
      <div>
        <h1>Server Status</h1>
        <div class="subtitle small">Current server status page :3</div>
      </div>
    </header>

    <ssfhs-dyn>cat navmenu.html</ssfhs-dyn>

    <section class="description">
      <p>If you see this, the server didn't crash or anything!</p>
    </section>

    <section class="description" id="statusFields">
      <div><strong>CPU Type:</strong> <span id="cpuType">Loading...</span></div>
      <div><strong>CPU Usage:</strong> <span id="cpuUsage">Loading...</span></div>
      <div><strong>Memory Usage:</strong> <span id="memoryUsage">Loading...</span></div>
      <div><strong>Server Time:</strong> <span id="serverTime">Loading...</span></div>
      <div><strong>Uptime:</strong> <span id="uptime">Loading...</span></div>
      <div><strong>Request ID:</strong> <span id="requestId">Loading...</span></div>
    </section>

    <script>
      async function fetchStatus() {
        try {
          const response = await fetch('/api/server-status.json', { cache: 'no-store' });
          if (!response.ok) throw new Error('Network error');
          const data = await response.json();

          document.getElementById('uptime').textContent = data.uptime || 'N/A';
          document.getElementById('cpuUsage').textContent = data.cpuUsage || 'N/A';
          document.getElementById('memoryUsage').textContent = data.memoryUsage || 'N/A';
          document.getElementById('requestId').textContent = data.requestId || 'N/A';
          document.getElementById('cpuType').textContent = data.cpuType || 'N/A';
          document.getElementById('serverTime').textContent = data.serverTime || 'N/A';
        } catch (err) {
          const fields = ['uptime', 'cpuUsage', 'memoryUsage', 'requestId', 'cpuType', 'serverTime'];
          fields.forEach(id => {
            document.getElementById(id).textContent = 'Error';
          });
        }
      }

      fetchStatus();
      setInterval(fetchStatus, 5000);
    </script>

    <div class="footer">
      <div class="credit small">Created by <strong>epsiii</strong> ðŸ©µ â€” page crafted with help from <strong>ChatGPT</strong></div>
    </div>
  </div>
</body>
</html>
